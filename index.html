<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Ejercicio 1 - Estados de la petición AJAX</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script type="text/javascript" src="jquery/jquery-3.5.1.min.js"></script>
  <script type="text/javascript">
    
    $(document).ready(function(){
      // ponemos a nuestro código js a la espera de que cargue nuestra página
      // con esto ejecutará la web y después ejecutará el js
      $("#enviar").click(function(){  //utilizamos el objeto jquery correspondiente para apuntar al botón enviar
        $("#contenidos").load($("#recurso").val()); // En el contenedor contenidos cargamos la página que hay en recurso
        return false; // para que no se cargue una página nueva, que es lo que hace por defecto la función click() 
      });
/*
      $("enlace").submit(function(){
        //Se empaqueta con un literal los datos que voy a enviar al servidor, 
        //que es la dirección de la página que quiero cargar
        var datos_form={enlace:$("#enlace").val()}//Se empaqueta, es decir, se crea el literal
        otra forma de cargar los datos es usando la función serialize() que recorre todo ,o que hay en #enlace
        var datos_form=$(this).serialize();
        $.get("index.html",datos_form,procesarDatos)// busca en el html del servidor la página index, y procesa los datos


      });

      function procesarDatos(datos_devueltos){
        if (datos_devueltos=="autorizado"){

          // modifico el DOM



        }



      }



    });
  }*/
  });
  </script>

<!--agregamos la libreria jquery desde un CDN 
  <script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous">
  </script> -->
  <!--<script type="text/javascript" src="code.js"></script>-->
</head>
<body>
  <form action="#" method="load" id="enlace">
    URL:
    <input value="https://moguimon.github.io/Viajes/" type="text" id="recurso" size="70" />
    <!-- Ponemos la url de la página que quiero cargar-->
    <input type="button" id="enviar" value="Mostrar contenidos" />
  </form>

  <div id="principal">
    <h2>Contenidos del archivo:</h2>
    <div id="contenidos"></div>

    <h2>Cabeceras HTTP de la respuesta del servidor:</h2>
    <div id="cabeceras"></div>
  </div>

  <div id="secundario">
    <h2>Estados de la petición:</h2>
    <div id="estados"></div>

    <h2>Código de estado:</h2>
    <div id="codigo"></div>
  </div>
</body>
</html>